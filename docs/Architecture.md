架构目标

在 Sui 上实现一种奖励分发执行模型，使执行过程具备可验证性、可重放性与可组合性。

核心架构判断

奖励分发是对象之间的确定性演化过程。

架构分层

对象层
执行层
验证与重放层
组合与扩展层

对象层

ActivityPool
执行起点对象，表达活动上下文

ParticipationTicket
执行输入对象，表达参与集合

RewardRule
执行约束对象，表达规则

RewardResult
执行终点对象，固化完整过程

执行层

校验活动状态
枚举参与对象
加载规则对象
引入随机输入
生成结果对象

执行逻辑具备确定性，仅生成新对象，不修改历史输入。

验证与重放层

基于链上对象重新执行奖励分发计算
对比计算结果与 RewardResult
验证一致性

并行性

每个 ActivityPool 为独立对象
活动之间无共享可变状态
天然支持并行执行

组合与扩展

第三方合约可创建活动
第三方可注入奖励与规则
结果对象可被外部系统引用

架构对比

在账户模型链上，该系统会退化为仅能验证最终结果的实现，执行过程难以自然表达与重放。
